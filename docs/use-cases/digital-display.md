# 七段数码管/LCD屏幕读取

## 场景描述

读取老式设备操作面板上的数字显示，是 Open-RetroSight 最基础也是最常见的应用场景。

## 适用设备

- 老式注塑机操作面板
- 温控仪显示屏
- 电子秤数字屏
- 数控机床显示面板
- 各类工业仪表数字屏

## 可读取数据

| 数据类型 | 示例 |
|---------|------|
| 温度 | 180.5°C |
| 压力 | 2.5 MPa |
| 计数 | 12345 |
| 良品率 | 98.5% |
| 时间 | 02:35:00 |
| 速度 | 1500 rpm |

## 技术实现

### 核心算法
- **PaddleOCR**：针对七段数码管微调的模型，PP-OCRv4 效果极佳
- **Tesseract**：备选方案，开源 OCR 引擎

### 预处理流程
1. **透视变换**：校正摄像头角度偏差
2. **二值化**：增强数字与背景对比度
3. **形态学处理**：优化小数点识别
4. **区域裁剪**：提取目标数字区域

### 后处理
- **卡尔曼滤波**：平滑识别结果
- **逻辑校验**：阈值判断，过滤异常值

## 配置步骤

1. **对准摄像头**：将摄像头对准数字显示屏
2. **框选区域**：在 Web 界面用鼠标框选数字区域
3. **设置参数**：
   - 类型：数字
   - 量程：如 0-200
   - 单位：如 °C
4. **测试验证**：观察实时识别结果

## 技术难点

### 小数点识别
**问题**：小数点经常被忽略，"10.5" 变成 "105"

**解决方案**：
- 针对数码管的小数点进行专门的形态学处理
- 增加逻辑判断（如温度不可能瞬间跳到1000度）

### 反光干扰
**问题**：屏幕反光导致识别失败

**解决方案**：
- 多帧融合算法
- 搭配环形补光灯
- 安装遮光罩

### 刷新率问题
**问题**：某些老 LED 屏有扫描频率，摄像头拍出来是残缺的

**解决方案**：
- 多帧合成技术
- 使用支持高帧率/全局曝光的摄像头

## 最佳实践

1. 摄像头尽量正对屏幕，减少透视变换误差
2. 保持适当距离，确保数字清晰可见
3. 环境光线稳定，避免强光直射
4. 定期清洁摄像头镜头

## 相关文档

- [核心算法详解](../architecture/algorithms.md)
- [技术挑战与对策](../roadmap/challenges.md)
